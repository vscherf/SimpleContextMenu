"use strict";function fnSetContextMenu(n,t,i,r){for(let u in t.items){let o=new $("<li>"),f=t.items[u];o.prop("title",f.title);let e=new $("<a>"),a=new $("<i>"),l=new $("<span>"),v=f.disabled,h=!1,c="Funktion nicht verfügbar";f.disableTitle&&(c=f.disableTitle);let s=f.action;$.isFunction(v)&&v($(r))&&(h=!0);switch(f.type){case"header":let b=new $("<div>");b.addClass("s-cm-header");typeof f["class"]!="undefined"&&b.addClass(f["class"]);b.html(f.label);b.appendTo(o);break;case"text":let n=new $("<input type='text'>");if(n.prop("placeholder",f.placeholder),n.prop("id",f.id),h)n.prop("title","dieser Eintrag ist nicht verfügbar"),n.addClass("s-cm-disabled"),n.prop("title",c);else{n.prop("title",f.title);let t=f.value;if($.isFunction(t)?n.val(t(r)):n.val(t),$.isFunction(s))n.on("change",function(){s($(this),scmTarget)})}n.appendTo(o);break;case"select":let t=new $("<select>");if(t.prop("placeholder",f.placeholder),t.prop("id",f.id),t.prop("title",f.title),h)t.prop("title",c),t.addClass("s-cm-disabled"),t.prop("title",c);else{let n=f.listItems;$.isFunction(n)&&(n=n());t.append($("<option>",{value:null,text:null}));for(let i in n)t.append($("<option>",{value:n[i].val,text:n[i].text}));if($.isFunction(s))t.on("change",function(){s($(this),scmTarget)})}t.appendTo(o);break;case"checkbox":let w=new $("<input type='checkbox'>"),u=new $("<div>"),g=new $("<div>"),d=new $("<div>"),y=new $("<label>");y.attr("data-toggle-on",f.dataOn);y.attr("data-toggle-off",f.dataOff);g.appendTo(u);w.appendTo(d);y.appendTo(d);d.appendTo(u);u.addClass("s-cm-checkbox");u.prop("title",f.title);g.html(f.label);w.prop("id",f.id);let k="";if(f.mode)switch(f.mode){case"slide":case"flip":case"light":case"flat":case"ios":k="s-cm-tgl-"+f.mode;break;default:k="s-cm-tgl-light"}else k="s-cm-tg-light";w.addClass("s-cm-tgl "+k);y.prop("for",f.id);let nt=f.value,v=!1;if($.isFunction(nt)&&(v=nt(scmTarget),v=v==="true"||v===!0?!0:!1,typeof v=="undefined"&&(v=!1)),$(w).prop("checked",v),h)u.addClass("s-cm-disabled"),y.addClass("s-cm-disabled"),u.prop("title",c);else if($.isFunction(s))y.on("click",function(){s(w,scmTarget)});o.css("padding","0 2px 0 0");u.appendTo(o);break;case"button":e.prop("href","#");a.attr("style","background:url('"+f.icon+"') center center no-repeat");let p=f.label;if(p.indexOf("<\/")>0&&(p=$(p).text()),h)e.removeClass(),e.addClass("s-cm-disabled"),e.html(p),e.prop("title",c);else{if(typeof f["class"]!="undefined"){let n=new $("<label>");n.addClass(f["class"]);n.html(p);n.appendTo(e)}else e.html(p);let n;if(typeof i!="undefined"&&(n=i.out),$.isFunction(s))e.on("click",function(){s($(this),scmTarget);$(scmTarget).data("scm-retvalue")&&$(scmTarget).html($(scmTarget).data("scm-retvalue"));fnHideSCM(n)});if(f.retValue)e.on("click",function(){scmTarget.html(f.retValue);fnHideSCM(n)})}l.html("&nbsp;");l.addClass("s-cm-separator-pic");e.prepend(l);e.data("id",f.id);e.prepend(a);e.appendTo(o)}if(n.append(o),f.separator_before){let n=new $("<li>"),t=new $("<a>");t.prop("href","#");t.html("&nbsp;");f.type==="header"?n.addClass("s-cm-separator-header-before"):n.addClass("s-cm-separator");t.appendTo(n);n.insertBefore(o)}if(f.separator_after){let n=new $("<li>"),t=new $("<a>");t.prop("href","#");t.html("&nbsp;");f.type==="header"?(n.removeClass("s-cm-separator"),n.addClass("s-cm-separator-header-after")):n.addClass("s-cm-separator");t.appendTo(n);n.insertAfter(o)}if(typeof f.submenu!="undefined"){let n=new $("<ul>");n.appendTo(o);h||fnSetContextMenu(n,f.submenu,i,r)}}}function fnHideSCM(n){typeof n!="undefined"?typeof scmTarget!="undefined"&&scmTarget.length>0?n==="transfer"?$(".s-cm").hide("transfer",{to:scmTarget,className:"s-cm-effect-transfer"}):($(".s-cm").hide(n),$(".s-cm").promise().done(function(){$(".s-cm").remove();return})):($(".s-cm").hide(n),$(".s-cm").promise().done(function(){$(".s-cm").remove();return})):($(".s-cm").remove(),$(".s-cm").promise().done(function(){return}));$("."+targetClass).removeClass(targetClass)}let scmTarget,targetClass="s-cm-target";$(document).ready(function(){$(document).on("mousedown",function(n){let t=$(".s-cm");$(n.target).closest(".s-cm").length===0&&fnHideSCM("fade")})});jQuery.fn.ContextMenu=function(n){if(typeof n=="undefined")return!1;$(this).on("contextmenu",function(t){let r,f,i,u;scmTarget=$(this);i=n.defaults;typeof i!="undefined"&&(r=i["in"],f=i.hideDefaultContext,u=i.targetClass);$(".s-cm").hide("fade");$(".s-cm").promise().done(function(){$(".s-cm").remove();let e=new $("<ul>");e.addClass("s-cm");let o=t.pageX,s=t.pageY;if(e.css("top",s),e.css("left",o),i.headline){let n=new $("<li>");n.addClass("s-cm-headline");n.html(i.headline);n.appendTo(e)}f&&e.attr("oncontextmenu","return false");fnSetContextMenu(e,n,n.defaults,scmTarget);$("body").append(e);$(".s-cm").find("li:has(ul)").children("a").addClass("s-cm-parent");$(".s-cm").find("a.s-cm-parent").not(".s-cm-disabled").parent("li:has(ul)").hover(function(){$(this).addClass("s-cm-a-hovered");$(this).children("ul").show()},function(){$(this).removeClass("s-cm-a-hovered");$(this).children("ul").hide()});typeof r!="undefined"?$(e).show(r):$(e).show();u&&$(scmTarget).addClass(u)})})};